---
title: "R + MARKDOWN + KNITR"
author: "Alex"
data: "01/03/2017"
bibliography: biblio.bib
output: html_document
#output:
#  html_document:
#    toc: true
#    toc_float: true
#output: pdf_document
#output: word_document
#output: odt_document
#output: rtf_document
#output: tufte::tufte_html
#output: rticles::elsevier_article
#output:
#  bookdown::gitbook: default
#output: ioslides_presentation
#output:
#  beamer_presentation:
#    theme: "Madrid"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align = 'center', fig.width = 6, fig.height = 6)
library(knitr)
library(rgl)
knitr::knit_hooks$set(webgl = hook_webgl) ## for rgl
set.seed(1)
```

# A very small introduction
## What is Markdown?

Markdown is a lightweight markup language for creating HTML documents and more.
Combined with *knitr*, you can combine your writing and analyses into a single document.

In R-Studio, the conversion between your text and the final output is made using *Pandoc*.

Benefits:

- *quick*
- ~~hard~~ **easy**
- ***flexible***
- it understands <span id="toto" style="text-decoration:underline"> HTML</span>
- it understands some LaTeX easily: $\hat{\Gamma} = \theta\times{\frac{2\pi}{\sqrt{20}}}$

But it does not understand all LaTeX \textcolor{red}{unless in pdf mode}.

## What is knitr?
It is an engine to run R into documents.
You can write R code like that:

```{r rnorm}
x <- rnorm(100, mean = 5, sd = 0.5)
y <- rnorm(100, mean = 2 * x, sd = 2)
summary(x)
```

```{r compute_mean, echo=FALSE}
iii <- 50*round(mean(x), 2)
```

You can reuse the results in the text: the mean of `x` is `r iii`.

## What you code and display can diverge

```{r lm1, eval=FALSE}
mod <- lm(y ~ x)
coef(summary(mod))
```

```{r lm2, echo=FALSE}
mod <- lm(y ~ x)
kable(coef(summary(mod)), format = "markdown", digits = 3)
```

## You can plot

```{r plot, echo=FALSE}
par(mfrow = c(2, 2))
plot(mod)
```

## You can plot (more)
```{r rgl, webgl=TRUE, echo=FALSE}
x <- sort(rnorm(1000))
y <- rnorm(1000)
z <- rnorm(1000) + atan2(x, y)
plot3d(x, y, z, col = rainbow(1000))
```

## You can display images
![our super logo](IZW-Logo.gif)

## Other

You can create links within documents:
[Link to html statment](#toto)

You can have references using bibtex:

Mark writes long titles [@gillingham2017very] in his papers, and @gillingham2016evidence is a perfect proof.


# Appendix

## Links

1. [markdown](http://daringfireball.net/projects/markdown/basics)
2. [Rmarkdown](http://rmarkdown.rstudio.com/)
3. [knitr](https://yihui.name/knitr/)

## My R session

```{r session}
sessionInfo()
```

## ReferAAAACCCESSS
